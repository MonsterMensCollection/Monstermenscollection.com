<!DOCTYPE html>
<html>
<head>
  <title>All Orders - Admin</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .order { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; border-radius: 10px; }
    .order h3 { margin-top: 0; }
  </style>
</head>
<body>

<h2>All Orders for Delivery</h2>
<div id="ordersContainer">Loading orders...</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
  import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDzW8XuqrxM47W42HcIUXifa_X8tnfrLkY",
      authDomain: "monster-mens-collection.firebaseapp.com",
      projectId: "monster-mens-collection",
      storageBucket: "monster-mens-collection.appspot.com",
      messagingSenderId: "21161410221",
      appId: "1:21161410221:web:3f4c777d4b5c8db20a9024",
      measurementId: "G-5WFHV50M9Z"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const ordersQuery = query(collection(db, "orders"), orderBy("timestamp", "desc"));
  const snapshot = await getDocs(ordersQuery);

  const container = document.getElementById("ordersContainer");
  container.innerHTML = "";

  snapshot.forEach(doc => {
    const order = doc.data();
    const div = document.createElement("div");
    div.className = "order";
    div.innerHTML = `
      <h3>Order: ${order.orderNumber || doc.id}</h3>
      <p><strong>Name:</strong> ${order.name}</p>
      <p><strong>Address:</strong> ${order.address}</p>
       <p><strong>Pincode:</strong> ${order.pincode}</p>
        <p><strong>Mobile Number:</strong> ${order.mobileNumber}</p>
      <p><strong>Total:</strong> ₹${order.total}</p>
      <p><strong>Payment:</strong> ${order.paymentMode || 'Online'}</p>
      <ul>
        ${order.cart.map(item => `
 <br> <li>
    ${item.title} - ₹${item.price}
    <br>Size: ${item.size || "N/A"}
     <br>Color: ${item.color || "N/A"}
  </li>
`).join("")}
      </ul>
    `;
    container.appendChild(div);
  });
</script>
