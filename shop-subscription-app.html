<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>ENLY â€“ Monster Men's Collection</title>

  <!-- Firebase & Razorpay -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />

  <!-- ===== Inline CSS  =================================================== -->
  <style>
    :root {
      --brand: #000;
      --brand-light: #a9a9a9;
      --bg: #fff;
      --gray-100: #fafafa;
      --gray-400: #ccc;
      --gray-600: #777;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Montserrat", sans-serif;
    }

    html,
    body {
      height: 100%;
      width: 100%;
      overflow-x: hidden;
      background-color: var(--bg);
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }

    /* ----------------  Generic Elements ----------------  */
    h1,
    h2,
    h3 {
      font-weight: 600;
    }

    h1 {
      font-size: 1.8rem;
      margin-bottom: 1.25rem;
      text-align: center;
    }

    h2 {
      font-size: 1.4rem;
    }

    h3 {
      font-size: 1.1rem;
    }

    a {
      color: #007bff;
      text-decoration: none;
    }

    a:hover {
      color: #0056b3;
    }

    button,
    .btn {
      cursor: pointer;
      border: none;
      background: var(--brand);
      color: #fff;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      transition: background 0.2s;
    }

    button:hover,
    .btn:hover {
      background: var(--brand-light);
    }

    /* ----------------  Layout Helpers ----------------  */
    .container {
      max-width: 75%;
      margin: auto;
      padding: 0;
    }

    .flex-center {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hidden {
      display: none !important;
    }

    /* =====================================================
       COMPONENTS / SECTIONS
       =====================================================*/

    /*  ---- Slider  ---- */
    #sliderSection {
      margin-left: -1%;
      margin-right: -1%;
    }

    .slider1 img {
      width: 100%;
      height: auto;
      display: block;
    }

    @keyframes slider {
      0% {
        transform: translateX(0%);
      }
      10%,
      20% {
        transform: translateX(-100%);
      }
      30%,
      50% {
        transform: translateX(-200%);
      }
      60%,
      90% {
        transform: translateX(-300%);
      }
      100% {
        transform: translateX(0%);
      }
    }

    /*  ---- Product Grid  ---- */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem 0;
      padding: 0 0.5rem;
    }

    .product-card {
      background: var(--bg);
      text-align: center;
    }

    .image-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 125%;
      background: var(--gray-100);
      overflow: hidden;
    }

    .image-wrapper img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .product-card .cardName {
      text-align: left;
      padding: 0.5rem;
    }

    .product-card .price {
      text-align: left;
      font-size: 0.9rem;
      margin-left: 0.5rem;
    }

    /*  ---- Fixed Header & Filter Controls  ---- */
    #fixed-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: var(--bg);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.25rem;
      padding: 13% 0 0.625rem;
    }

    .filter-controls {
      position: fixed;
      top: 8%;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.625rem;
      background: var(--bg);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }

    .filter-controls select {
      flex: 1 1 0;
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .vertical-divider {
      width: 1px;
      height: 30px;
      background: var(--gray-400);
    }

    /*  ---- Bottom Navigation  ---- */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 6.5%;
      background: var(--bg);
      display: flex;
      justify-content: space-around;
      align-items: center;
      border-top: 1px solid var(--gray-400);
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
      z-index: 1000;
    }

    .bottom-nav a {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      -webkit-tap-highlight-color: transparent;
      outline: none;
    }

    /*  ---- Scrolling Shipping Banner  ---- */
    .scrolling-banner {
      position: fixed;
      bottom: 109px;
      width: 100%;
      background: var(--brand);
      color: #fff;
      font-size: 14px;
      overflow: hidden;
      z-index: 9999;
      white-space: nowrap;
      padding: 5px 0;
    }

    .scrolling-text {
      display: inline-block;
      padding-left: 100%;
      animation: scrollText 25s linear infinite;
    }

    @keyframes scrollText {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /*  ---- Visibility Helpers (scroll hide/show) ---- */
    .hide-bottom-nav {
      transform: translateY(100%);
      transition: transform 0.3s ease-in-out;
    }

    .hide-shippingBar-nav {
      transform: translateY(1000%);
      transition: transform 0.3s ease-in-out;
    }

    .hide-filter-bar {
      transform: translateY(-100%);
      transition: transform 0.3s ease;
    }

    /*  ---- Spinner (shown while waiting for Firebase) ---- */
    body.waiting-for-auth {
      visibility: hidden;
    }
  </style>
</head>

<body class="waiting-for-auth">
  <!-- =====================================================
       PAGE WRAPPER
       =====================================================-->
  <div id="mainContainer" class="container with-top-margin">
    <!-- ============ AUTH SECTIONS ============ -->
    <section id="loginSection" class="form-section">
      <h1 id="title">Login</h1>
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Password" />
      <button id="emailLoginBtn">Login</button>
      <a href="#" id="forgotPasswordLink">Forgot Password?</a>
      <div id="statusMessage" class="status-message"></div>
      <p class="toggle-link" onclick="toggleForm()">Don't have an account? Sign Up</p>
      <div style="margin-top: 30px; text-align: center; font-size: 14px; color: var(--gray-600);">
        <a href="https://iridescent-sawine-8f375c.netlify.app/privacy-policy" target="_blank">Privacy Policy</a>
      </div>
    </section>

    <section id="signupSection" class="form-section hidden">
      <h1 id="signupTitle">Sign Up</h1>
      <input type="text" id="signupName" placeholder="Enter your name" />
      <input type="email" id="signupEmail" placeholder="Email" />
      <input type="password" id="signupPassword" placeholder="Password" />
      <button id="emailSignupBtn">Sign Up</button>
      <p class="toggle-link" onclick="toggleForm()">Already have an account? Login</p>
      <div style="margin-top: 30px; text-align: center; font-size: 14px; color: var(--gray-600);">
        <a href="https://iridescent-sawine-8f375c.netlify.app/privacy-policy" target="_blank">Privacy Policy</a>
      </div>
    </section>

    <!-- ============ PRODUCTS PLACEHOLDER (loaded after auth) ============ -->
    <section id="productsPage" class="hidden">
      <!-- Put your slider / category sections etc. here -->
      <div id="sliderSection">
        <div class="slider1">
          <img src="https://raw.githubusercontent.com/MonsterMensCollection/nOW/refs/heads/main/1.png" alt="Hero" />
        </div>
      </div>
      <!-- More content ... (kept minimal here for brevity) -->
    </section>
  </div>

  <!-- ============ FIXED UI ELEMENTS ============ -->
  <div id="shippingBar" class="scrolling-banner">
    <div class="scrolling-text">
      ðŸŽ‰ Free Shipping on Orders $99 and Above! ðŸŽ‰ Crafted Just for You!
    </div>
  </div>

  <nav id="bottomNav" class="bottom-nav hidden">
    <a href="#" onclick="backToProducts()">
      <img src="https://img.icons8.com/?size=100&id=HWCgA83ZikaE&format=png&color=000000" width="24" alt="Home" />
    </a>
    <!-- more links ... -->
  </nav>

  <!-- =====================================================
       SCRIPTS (moved to bottom for better parsing)
       =====================================================-->
  <script>
    /* ------------------------------------------------------------------
       UTILS
       ------------------------------------------------------------------*/
    const qs = (sel, ctx = document) => ctx.querySelector(sel);
    const qsa = (sel, ctx = document) => [...ctx.querySelectorAll(sel)];

    const toggleClass = (el, cls, force) => {
      if (!el) return;
      if (force === undefined) {
        el.classList.toggle(cls);
      } else {
        el.classList[force ? "add" : "remove"](cls);
      }
    };

    /* ------------------------------------------------------------------
       AUTH  (Firebase)
       ------------------------------------------------------------------*/
    const firebaseConfig = {
      apiKey: "AIzaSyDzW8XuqrxM47W42HcIUXifa_X8tnfrLkY",
      authDomain: "monster-mens-collection.firebaseapp.com",
      projectId: "monster-mens-collection",
      storageBucket: "monster-mens-collection.appspot.com",
      messagingSenderId: "21161410221",
      appId: "1:21161410221:web:3f4c777d4b5c8db20a9024",
      measurementId: "G-5WFHV50M9Z"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    /* ------------------------------------------------------------------
       UI STATE MANAGEMENT
       ------------------------------------------------------------------*/
    const sections = {
      login: qs("#loginSection"),
      signup: qs("#signupSection"),
      products: qs("#productsPage"),
    };

    const bottomNav = qs("#bottomNav");

    function showSection(key) {
      Object.values(sections).forEach((sec) => toggleClass(sec, "hidden", true));
      toggleClass(sections[key], "hidden", false);
      updateBottomNavVisibility();
    }

    function toggleForm() {
      if (sections.login.classList.contains("hidden")) {
        showSection("login");
        qs("#title").textContent = "Login";
      } else {
        showSection("signup");
        qs("#signupTitle").textContent = "Sign Up";
      }
      qs("#statusMessage").textContent = "";
    }

    function updateBottomNavVisibility() {
      const showNav = !sections.login.classList.contains("hidden") ||
        !sections.signup.classList.contains("hidden")
        ? false
        : true;
      toggleClass(bottomNav, "hidden", !showNav);
    }

    /* ------------------------------------------------------------------
       AUTH HANDLERS
       ------------------------------------------------------------------*/
    qs("#emailLoginBtn").addEventListener("click", () => {
      const email = qs("#email").value.trim();
      const password = qs("#password").value.trim();
      if (!email || !password) return;
      auth.signInWithEmailAndPassword(email, password).catch((err) => {
        qs("#statusMessage").textContent = err.message;
      });
    });

    qs("#emailSignupBtn").addEventListener("click", () => {
      const name = qs("#signupName").value.trim();
      const email = qs("#signupEmail").value.trim();
      const password = qs("#signupPassword").value.trim();
      if (!email || !password) return;

      auth
        .createUserWithEmailAndPassword(email, password)
        .then((cred) => {
          return db.collection("users").doc(cred.user.uid).set({ name, email });
        })
        .then(() => {
          qs("#statusMessage").textContent = "Account created! Please log in.";
          toggleForm();
        })
        .catch((err) => {
          qs("#statusMessage").textContent = err.message;
        });
    });

    auth.onAuthStateChanged((user) => {
      document.body.classList.remove("waiting-for-auth");
      if (user) {
        showSection("products");
      } else {
        showSection("login");
      }
    });

    /* ------------------------------------------------------------------
       NAVIGATION HELPERS
       ------------------------------------------------------------------*/
    function backToProducts() {
      showSection("products");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }

    /* ------------------------------------------------------------------
       SCROLL SHOW / HIDE NAV & BANNER
       ------------------------------------------------------------------*/
    let lastScroll = 0;
    const shippingBar = qs("#shippingBar");

    window.addEventListener("scroll", () => {
      const y = window.scrollY || document.documentElement.scrollTop;
      const down = y > lastScroll;
      toggleClass(bottomNav, "hide-bottom-nav", down);
      toggleClass(shippingBar, "hide-shippingBar-nav", down);
      lastScroll = y;
    });
  </script>
</body>
</html>
