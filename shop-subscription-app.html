<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shop Subscription App</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <style>
     * {
      font-family: Arial, sans-serif;
     }

   body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding:0;
      padding-bottom: 130px ; /* Adjust if your .bottom-nav is taller */
      height: 100%;
      overflow-x: hidden;
     }
#cartPage,
#profilePage {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* Avoid pushing down content */
  text-align: center;
  min-height: calc(100vh - 130px);
}

.filter-controls {
  display: flex;
  flex-wrap: nowrap; /* Force single line */
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin: 20px auto;
  padding: 10px;
  background-color: #ffffff;
  border-radius: 0px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  overflow-x: hidden; /* Prevent horizontal scroll */
}

.filter-controls label {
  font-weight: bold;
  color: #333;
  display: flex;
  align-items: center;
  white-space: nowrap;
  font-size: 0.9rem;
}

.filter-controls select {
  flex: 1 1 0;
  min-width: 80px;
  max-width: 150px;
  padding: 8px 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 0.9rem;
  background-color: #fff;
  transition: border-color 0.3s, box-shadow 0.3s;
  cursor: pointer;
}

/* Mobile view adjustments */
@media (max-width: 600px) {
  .filter-controls {
    padding: 8px;
    gap: 8px;
  }

  .filter-controls label {
    font-size: 0.85rem;
  }

  .filter-controls select {
    font-size: 0.85rem;
    min-width: 60px;
    max-width: 120px;
  }
}






    .container {
      max-width: 75%;
      background: #fff;
      padding: 0px;
      border-radius: 12px;
    }
    h1 {
    font-size: 1.8rem;
    text-align: center;
    margin-top: 0px;
    margin-bottom:20px;
    }
    h2 {
   text-align: center;
   margin-top: 0 ;
   margin-bottom: 20px;
   }

    .info,
    .confirmation,
    .status-message {
      text-align: center;
      margin-bottom: 20px;
      font-size: 1rem;
      color: #555;
    }

    .form-section {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .form-section input {
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

    .form-section button,
    .form-section a {
      background-color: #007bff;
      color: white;
      padding: 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      text-align: center;
      text-decoration: none;
    }

    .form-section button:hover,
    .form-section a:hover {
      background-color: #0069d9;
    }

    .toggle-link {
      text-align: center;
      cursor: pointer;
      color: #007bff;
    }

    .product-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }

    .product-item {
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #fafafa;
    }

    .product-item h3 {
      margin-bottom: 8px;
      font-size: 1.2rem;
    }

    .slider-wrapper{
        position:relative;
        max-width:48rem;
        margin: 0 auto;
        
    }
    .slider{
        display: flex;
        aspect-ratio: 1/1;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
    }
    .slider1{
        display: flex;
        aspect-ratio: 707/1000;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scroll-behavior: smooth;
        box-shadow: 0 1.5rem 3rem -0.75rem hsla(0,0%,0%,0.25);
        border-radius: 0.5rem;
    }
    .slider img{
        flex:1 0 100%;
        scroll-snap-align: start;
        object-fit: cover;
    }
    .slider-nav {
        display: flex;
        column-gap: 1rem;
        position: absolute;
        bottom: 1.25rem;
        left: 50%;
        transform: transulateX(-50%);
        z-index: 1;
        animation: slider 30s ease-in-out infinite alternate;
    }
    .slide-nav a {
        width: 0.5rem;
        height: 0.5rem;
        border-radius: 50%;
        background-color: #fff;
        opacity: 0.75;
        transition: opacity ease 250ms;
    }
    .slide-nav a:hover {
        opacity: 1;
    }
    @keyframes slider{
        0%{transform: transulateX(0%);}
        10%{transform: transulateX(-100%);}
        20%{transform: transulateX(-100%);}
        30%{transform: transulateX(-200%);}
        40%{transform: transulateX(-200%);}
        50%{transform: transulateX(-200%);}
        60%{transform: transulateX(-300%);}
        70%{transform: transulateX(-300%);}
        80%{transform: transulateX(-300%);}
        90%{transform: transulateX(0%);}
        100%{transform: transulateX(0%);}
    }
    .admin-controls {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 10px;
      background-color: #f0f8ff;
    }

    .admin-controls h3 {
      margin-bottom: 10px;
    }

    .product-item.hidden {
      display: none;
    }

    #logoutProductsBtn {
      margin-top: 30px;
    }
    iframe{
      border-radius: 10px;
    } 
      #productsPage {
      display: none;
      margin-top:0px;
    }
    .no-box 
    
    { 
    box-shadow: none !important;
    background: transparent !important;
    border-radius: 0 !important; 
    }

.product-card .price {
  margin-top: 10px;
  font-size: 1rem;
  font-weight: bold;
  color: #333;
   }
   .product-card .cardName {
  font-size:0.8rem;
   }
.product-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      width: 100%;
      gap: 1%;
      margin:0;
    }

    .product-card {
      background-color: #fff;
      border-radius: 0px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 0px;
      text-align: center;
    }

    .product-card img {
      width: 100%;
      height: auto;
      border-radius: 0px;
    }
    .with-top-margin {
  margin-top: 20% !important;
   }
     .bottom-nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  background-color: white;
  border-top: 0px solid #ccc;
  display: flex;
  justify-content: space-around;
  padding:6% 0;
  z-index: 1000;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
}

.bottom-nav a {
  color: #007bff;
  text-decoration: none;
  font-weight: bold;
  font-size: 1rem;
}

.bottom-nav a:hover {
 color: #0056b3;
}
.centered-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 130px);
  text-align: center;
}

@media (max-width: 768px) {
  #cartPage:focus-within {
    padding-bottom: 200px; /* ensures there's space to scroll */
  }
  
}
  </style>
</head>
<body>
 <div>
<div>
  <div class="container" id="mainContainer" style="margin:auto;">
    <h1 id="title">Login</h1>
    <div id="loginSection" class="form-section" >
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Password" />
      <button id="emailLoginBtn">Login</button>
      <a href="#" id="forgotPasswordLink">Forgot Password?</a>
      <div id="statusMessage" class="status-message"></div>
      <p class="toggle-link" onclick="toggleForm()">Don't have an account? Sign Up</p>
    </div>

    <div id="signupSection" class="form-section" style="display: none;">
      <input type="text" id="signupName" placeholder="Enter your name" required>
      <input type="email" id="signupEmail" placeholder="Email" />
      <input type="password" id="signupPassword" placeholder="Password" />
      <button id="emailSignupBtn">Sign Up</button>
      <p class="toggle-link" onclick="toggleForm()">Already have an account? Login</p>
    </div>

    <div id="subscriptionSection" style="display:none;">
      <p class="info">Get any 1 Shirt + any 1 Pant at ₹999 <br><h3><center>WHOLESALE PRICE</h3></p>
      <form class="form-section" id="subscriptionForm">
        <button type="submit">Subscribe at ₹2/month </button>
      </form>
      <div class="confirmation" id="confirmationMessage"></div>
      <p class="form-section">
        <button id="logoutBtn">Logout</button>
      </p>
    </div>
</div>
   <div id="productsPage" style="margin-left:1%;margin-right:1%;" >
        <div id="shirtsPage" style="display: none;">
          <br><img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/c2hpcnRz/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
<!-- Sorting and Filtering Controls -->
<div class="filter-controls" data-target="shirtsPage">
  <label>Sort by Price:</label>
  <select class="sortPrice">
    <option value="default">Default</option>
    <option value="asc">Low to High</option>
    <option value="desc">High to Low</option>
  </select>

  <label>Filter by Size:</label>
  <select class="filterSize">
    <option value="all">All</option>
    <option value="M">M</option>
    <option value="L">L</option>
    <option value="XL">XL</option>
  </select>
</div>

 <div class="product-grid">
     
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Red & Bull </h3> <!-- Product Title -->
<p>Down Shoulder</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹1</p>
  </div>
</div>

  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹2</p>
  </div>
</div>

  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹3</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹4</p>
  </div>
  </div>
</div>
</div>

<div id="tshirtsPage" style="display: none;">
    
    <br> <img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/VC1zaGlydA/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
    
<!-- Sorting and Filtering Controls -->
<div class="filter-controls" data-target="tshirtsPage">
  <label>Sort by Price:</label>
  <select class="sortPrice">
    <option value="default">Default</option>
    <option value="asc">Low to High</option>
    <option value="desc">High to Low</option>
  </select>

  <label>Filter by Size:</label>
   <select class="filterSize">
    <option value="all">All</option>
    <option value="M">M</option>
    <option value="L">L</option>
    <option value="XL">XL</option>
  </select>
</div>


  <div class="product-grid">
      
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹1</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹2</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹3</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['M', 'XL'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹4</p>
  </div>
  </div>
  
</div>
 </div>

<div id="pantsPage" style="display: none;">
    
    <br> <img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/cGFudHM/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
    
<!-- Sorting and Filtering Controls -->
<div class="filter-controls" data-target="pantsPage">
  <label>Sort by Price:</label>
  <select class="sortPrice">
    <option value="default">Default</option>
    <option value="asc">Low to High</option>
    <option value="desc">High to Low</option>
  </select>

  <label>Filter by Size:</label>
  <select class="filterSize">
    <option value="all">All</option>
    <option value="28">28</option>
    <option value="30">30</option>
    <option value="32">32</option>
    <option value="34">34</option>
    <option value="36">36</option>
    <option value="38">38</option>
    <option value="40">40</option>
  </select>
</div>


  <div class="product-grid">
      
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['30', '32'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹1</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['32', '34'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹2</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['40', '28'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹3</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['30', '38'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹4</p>
  </div>
  </div>
  
</div>
 </div>
 
 <div id="cargosPage" style="display: none;">
    
    <br> <img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/Y2FyZ29z/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
    
<!-- Sorting and Filtering Controls -->
<div class="filter-controls" data-target="cargosPage">
  <label>Sort by Price:</label>
  <select class="sortPrice">
    <option value="default">Default</option>
    <option value="asc">Low to High</option>
    <option value="desc">High to Low</option>
  </select>

  <label>Filter by Size:</label>
  <select class="filterSize">
    <option value="all">All</option>
    <option value="28">28</option>
    <option value="30">30</option>
    <option value="32">32</option>
    <option value="34">34</option>
    <option value="36">36</option>
    <option value="38">38</option>
    <option value="40">40</option>
  </select>
</div>


  <div class="product-grid">
      
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['30', '32'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹1</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['32', '34'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹2</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['40', '28'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹3</p>
  </div>
  </div>
  
  <div class="product-card">
<img src="https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg" alt="Shirt 1" onclick="showDescription([
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Products/refs/heads/main/a620547a-7168-4b4b-a59b-38d65685f7e1.jpeg' },
  { type: 'image', src: 'https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red%20and%20Black%20Ripped%20Paper%20Black%20Friday%20Flyer%20Portrait.png' },
  { type: 'video', src: 'https://github.com/MonsterMensCollection/Products/raw/refs/heads/tshirt/WhatsApp%20Video%202025-05-15%20at%2011.57.32%20AM.mp4' }
], '₹499', 'Diesel', 'Down Shoulder With rib', 'Cotton Lycra', ['30', '38'])">
<div class=cardName>
<h3>Black & Bull </h3> <!-- Product Title -->
<p>Non-Spread Collar Casual Shirt</p>
</div>
 <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
    <p class="price">₹4</p>
  </div>
  </div>
  
</div>
 </div>
 
<!-- Product Description Page with Scrollable Image Gallery -->
<div id="descriptionPage" style="display: none; padding: 0 5%;" class="form-section">
<div style="display: flex; justify-content: center;">
  <div id="mainMediaWrapper" style="display: flex; justify-content: center; overflow: hidden; touch-action: pan-y;">
  <img id="descImage" src="" style="max-width: 80%; border-radius: 12px; display: none;" />
  <video id="descVideo" controls style="max-width: 80%; border-radius: 12px; display: none;"></video>
</div>
</div>

<!-- Thumbnails Preview (Image + Video Swipe Area) -->
<div id="descImagePreview" style="
  margin-top: 15px;
  display: flex;
  overflow-x: auto;
  white-space: nowrap;
  gap: 10px;
  padding: 10px;
  justify-content: flex-start;
  -webkit-overflow-scrolling: touch;
"></div>

    <br><div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; width: 100%; padding: 0 5px;">
  <div style="flex: 1; min-width: 150px;">
    <h2 id="descName" style="font-size: 20px; color: #333; margin: 0; text-align: left;">Product Title</h2>
    <h4 id="descSText" style="font-size: 14px; color: #666; margin: 5px 0 0 0; text-align: left;">Short description here</h4>
  </div>
  <div>
    <p class="price" id="descPrice" style="font-size: 18px; color: #555; margin: 0; text-align: right;">₹0</p>
  </div>
</div>
 <div style="margin-top: 0px; text-align: right; margin-right:0%">
    <button onclick="addToCart()">Add to Cart</button>
  </div>
  <h3>Select Size:</h3>
<div id="sizeButtons" style="display: flex; gap: 10px; margin: 10px 0;">
  <option value="">-- Choose Size --</option>
  <option value="M">M</option>
  <option value="L">L</option>
  <option value="XL">XL</option>
</div>
<br>
    <h2>Discription</h2>
    <p id="descText" style="margin-top: 10px; font-size: 16px; color: #333; text-align: left;"></p> <!-- Product Description -->
  </div>
  

          <div id="sliderSection" class="slider-wrapper">
          <div class="slider1">
            <br><img id="slide-1" src="https://raw.githubusercontent.com/MonsterMensCollection/Ads/refs/heads/main/Red-and-Black-Ripped-Paper-Black-Friday-Flyer-Portrait.jpeg" alt="3D rendering of an words"/>
          </div>
          <div class="slider-nav">
           <a href="#slide-1"></a>
          </div>
      </div>
      <div class="product-list" id="productList">
  <h2><center><br>Contact:</h2><center>6380900310<br>Monstermenscollection@gmail.com<br>
  <h2><center><br>Location:</h2><br>
  <div style="display: flex; justify-content: center; align-items: center; height: 35vh; border-radius: 0.5rem; margin-left:5%; margin-right:5%">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1951.9412388138983!2d79.75375512746827!3d11.913266345081821!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a536197b55718a3%3A0xb1d567dddfc2f85c!2sMonster%20Men&#39;s%20Collection!5e0!3m2!1sen!2sin!4v1746009236221!5m2!1sen!2sin" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</div>

<div class="container" id="mainContainer" style="margin:auto;">
  <div id="cartPage" class="form-section" style="display: none; margin-left:0%;margin-right:2%; ">
  <br><img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/Y2FydA/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
  <div id="cartItems"></div>
  <br>
   <button onclick="checkoutCart()">Pay Online</button><br>
   <br><button onclick="confirmCOD()">Cash on Delivery</button>
   
</div>

<!-- COD Confirmation Modal -->
<div id="codConfirmationModal" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5);">
  <div style="background-color: #fff; margin: 15% auto; padding: 20px; border-radius: 8px; width: 80%; max-width: 400px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
    <h3 style="margin-bottom: 10px;">Confirm Cash on Delivery</h3>
    <p style="margin-bottom: 20px;">Are you sure you want to place this order using Cash on Delivery?</p>
    
    <button onclick="proceedWithCOD()" style="
      background-color: #28a745; 
      color: white; 
      border: none; 
      padding: 10px 20px; 
      border-radius: 5px; 
      cursor: pointer; 
      margin-right: 10px;
    ">Yes, Confirm</button>

    <button onclick="closeCODModal()" style="
      background-color: #dc3545; 
      color: white; 
      border: none; 
      padding: 10px 20px; 
      border-radius: 5px; 
      cursor: pointer;
    ">Cancel</button>
  </div>
</div>


<div id="profilePage" class="form-section" style="display: none;"> <!-- Premium Badge -->
    <br><img src="https://see.fontimg.com/api/rf5/8MnG2/NDk1NWQ2OGI5Njg0NDc5NDhmMzMzOWRlYzAxZmRmODYub3Rm/cHJvZmlsZQ/gamer-spot-semi-italic.png?r=fs&h=30&w=1000&fg=000000&bg=FFFFFF&tb=1&s=30"style="display: block;margin-left: auto;
  margin-right: auto;">
    
   <div style="margin-top: 25px; text-align: left; background-color: #f9f9f9; padding: 5px 5px; border-radius: 10px;">
  <div style="margin-bottom: 12px;">
    <label style="font-size: 14px; color: #555;">Name</label>
    <div id="profileName" style="font-size: 18px; font-weight: 500; color: #333;">Loading...</div>
  </div>
  <div style="margin-bottom: 12px;">
    <label style="font-size: 14px; color: #555;">Email</label>
    <div id="profileEmail" style="font-size: 18px; font-weight: 500; color: #333;">Loading...</div>
  </div>
</div>

<div style="margin-top: 25px;">
  <h3>Your Orders</h3>
  <div id="orderList" style="padding-left: 5px; color: #333;  margin-left:0%;margin-right:2%;"></div>
</div>


    <button onclick="logout()" style="margin-top: 30px; padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer;">
      Logout
    </button>
</div>



</div>
<div class="bottom-nav" id="bottomNav" style="margin-left:-1%;margin-right:0;">
  <a href="#" onclick="backToProducts()">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="https://img.icons8.com/?size=100&id=HWCgA83ZikaE&format=png&color=000000" width="24" alt="Home"/>
    </div>
  </a>
  <a href="#" onclick="showShirtsPage()">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="https://img.icons8.com/?size=100&id=zsb66Nl4NM9p&format=png&color=000000" width="24" alt="Shirts"/>
    </div>
  </a>
  <a href="#" onclick="showPantsPage()">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="https://img.icons8.com/?size=100&id=0A3ziqKFWVXq&format=png&color=000000" width="24" alt="Pants"/>
    </div>
  </a>
  <a href="#" onclick="showCart()">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="https://img.icons8.com/?size=100&id=5hmLU5efq3jw&format=png&color=000000" width="24" alt="Cart"/>
    </div>
  </a>
  <a href="#" onclick="showProfilePage()">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="https://img.icons8.com/?size=100&id=Or3Eb98tGbJL&format=png&color=000000" width="24" alt="Profile"/>
    </div>
  </a>
</div>
</div>

<div id="paymentSuccessPage" style="display:none; margin-top:40%;padding: 30px; text-align: center;">
  <div style="padding: 20px; border: 2px solid green; background-color: #d4fcd4; color: green; border-radius: 10px;">
    ✅ Payment successful!<br>
    Payment ID: <strong id="successPaymentId">Loading...</strong><br>
    Your order has been placed. Thank you!
  </div>
</div>

<div id="paymentSuccessPageCOD" style="display:none; margin-top:40%;padding: 30px; text-align: center;">
  <div style="padding: 20px; border: 2px solid green; background-color: #d4fcd4; color: green; border-radius: 10px;">
     ✅ Order successful!<br>
     Payment ID:<strong> CASH ON DELIVERY </strong><br>
    Your order has been placed. Thank you!
  </div>
</div>

    <div id="adminControls" class="admin-controls" style="display:none;">
      <h3>Admin Panel</h3>
      <button onclick="location.href='admin-dashboard.html'">Go to Dashboard</button>
    </div>
  </div>
  
  <script>
      
      let lastVisitedCategory = "productList"; // default fallback

function showShirtsPage() {
    
    lastVisitedCategory = "shirtsPage";
    history.pushState({ page: "shirtsPage" }, "", "#shirts");

  document.getElementById("productList").style.display = "none";
  document.getElementById("shirtsPage").style.display = "block";
  document.getElementById("pantsPage").style.display = "none";
  document.getElementById("sliderSection").style.display = "none";
   document.getElementById("cartPage").style.display = "none";
   document.getElementById("profilePage").style.display = "none";
   document.getElementById("descriptionPage").style.display = "none";
     document.getElementById("tshirtsPage").style.display = "none";
      document.getElementById("cargosPage").style.display = "none";
}

function showPantsPage() {
    
     lastVisitedCategory = "pantsPage";
    history.pushState({ page: "pantsPage" }, "", "#pants");
    
  document.getElementById("productList").style.display = "none";
  document.getElementById("pantsPage").style.display = "block";
  document.getElementById("shirtsPage").style.display = "none";
  document.getElementById("tshirtsPage").style.display = "none";
  document.getElementById("sliderSection").style.display = "none";
   document.getElementById("cartPage").style.display = "none";
   document.getElementById("profilePage").style.display = "none";
   document.getElementById("descriptionPage").style.display = "none";
   document.getElementById("cargosPage").style.display = "none";
}


function backToProducts() {
  document.getElementById("descriptionPage").style.display = "none";

  if (lastVisitedCategory === "shirtsPage") {
    showShirtsPage();
  } else if (lastVisitedCategory === "pantsPage") {
    showPantsPage();
  } else if (lastVisitedCategory === "tshirtsPage") {
    showTshirtsPage(); // if implemented
  } else if (lastVisitedCategory === "cargosPage") {
    showCargosPage(); // if implemented
  } else {
    // fallback to general product list
    document.getElementById("productList").style.display = "block";
    document.getElementById("sliderSection").style.display = "block";
    document.getElementById("shirtsPage").style.display = "none";
    document.getElementById("pantsPage").style.display = "none";
    document.getElementById("tshirtsPage").style.display = "none";
    document.getElementById("cargosPage").style.display = "none";
  }
}

let startX = 0;

function handleTouchStart(evt) {
  startX = evt.touches[0].clientX;
}

function handleTouchEnd(evt, fromPage, toPage) {
  const endX = evt.changedTouches[0].clientX;
  const diffX = startX - endX;

  if (diffX > 50 && fromPage === "shirtsPage") {
      history.pushState({ page: "tshirtsPage" }, "", "#tshirts");
    // Swipe left on shirtsPage -> go to tshirtsPage
    document.getElementById("shirtsPage").style.display = "none";
    document.getElementById("tshirtsPage").style.display = "block";
  } else if (diffX < -50 && fromPage === "tshirtsPage") {
        history.pushState({ page: "shirtsPage" }, "", "#shirts");
    // Swipe right on tshirtsPage -> go to shirtsPage
    document.getElementById("tshirtsPage").style.display = "none";
    document.getElementById("shirtsPage").style.display = "block";
  }
  if (diffX > 50 && fromPage === "pantsPage") {
            history.pushState({ page: "cargosPage" }, "", "#cargos");
    // Swipe left on shirtsPage -> go to tshirtsPage
    document.getElementById("pantsPage").style.display = "none";
    document.getElementById("cargosPage").style.display = "block";
  } else if (diffX < -50 && fromPage === "cargosPage") {
       history.pushState({ page: "pantsPage" }, "", "#pants");
    // Swipe right on tshirtsPage -> go to shirtsPage
    document.getElementById("cargosPage").style.display = "none";
    document.getElementById("pantsPage").style.display = "block";
  }
}

// Add listeners to both pages
document.getElementById("shirtsPage").addEventListener("touchstart", handleTouchStart, false);
document.getElementById("shirtsPage").addEventListener("touchend", function(evt) {
  handleTouchEnd(evt, "shirtsPage", "tshirtsPage");
}, false);

document.getElementById("tshirtsPage").addEventListener("touchstart", handleTouchStart, false);
document.getElementById("tshirtsPage").addEventListener("touchend", function(evt) {
  handleTouchEnd(evt, "tshirtsPage", "shirtsPage");
}, false);

document.getElementById("pantsPage").addEventListener("touchstart", handleTouchStart, false);
document.getElementById("pantsPage").addEventListener("touchend", function(evt) {
  handleTouchEnd(evt, "pantsPage", "cargosPage");
}, false);

document.getElementById("cargosPage").addEventListener("touchstart", handleTouchStart, false);
document.getElementById("cargosPage").addEventListener("touchend", function(evt) {
  handleTouchEnd(evt, "cargosPage", "pantsPage");
}, false);

let cart = [];
function showDescription(media = [], price, title = "No title", sdes = "No short description", description = "No description", sizesAvailable = ["M", "L", "XL"]) {
    
    history.pushState({ page: "descriptionPage" }, "", "#description");
    
  const mainImage = document.getElementById("descImage");
  const mainVideo = document.getElementById("descVideo");
  const previewContainer = document.getElementById("descImagePreview");

  let currentIndex = 0;

  const showMediaAt = (index) => {
    currentIndex = index;
    const item = media[index];
    if (item.type === "video") {
      mainImage.style.display = "none";
      mainVideo.style.display = "block";
      mainVideo.src = item.src;
      mainVideo.autoplay = true;
      mainVideo.muted = true; // for autoplay to work on mobile
      mainVideo.play();
    } else {
      mainVideo.style.display = "none";
      mainImage.style.display = "block";
      mainImage.src = item.src;
    }
  };

  const setupSwipe = (container) => {
    let startX = 0;
    let endX = 0;

    container.addEventListener("touchstart", e => {
      startX = e.touches[0].clientX;
    });

    container.addEventListener("touchmove", e => {
      endX = e.touches[0].clientX;
    });

    container.addEventListener("touchend", () => {
      const diff = startX - endX;
      if (Math.abs(diff) > 50) {
        if (diff > 0 && currentIndex < media.length - 1) {
          showMediaAt(currentIndex + 1);
        } else if (diff < 0 && currentIndex > 0) {
          showMediaAt(currentIndex - 1);
        }
      }
    });
  };

  showMediaAt(0);
  setupSwipe(document.getElementById("mainMediaWrapper"));

  // Thumbnails preview
  previewContainer.innerHTML = "";
  media.forEach((item, index) => {
    let thumb;
    if (item.type === "video") {
      thumb = document.createElement("video");
      thumb.src = item.src;
      thumb.muted = true;
      thumb.loop = true;
      thumb.autoplay = true;
    } else {
      thumb = document.createElement("img");
      thumb.src = item.src;
    }

    thumb.style.width = "70px";
    thumb.style.height = "70px";
    thumb.style.objectFit = "cover";
    thumb.style.cursor = "pointer";
    thumb.style.borderRadius = "8px";
    thumb.style.flexShrink = "0";

    // Tap thumbnail to show media
    thumb.addEventListener("click", () => {
      showMediaAt(index);
    });

    previewContainer.appendChild(thumb);
  });

  // Update product info
  document.getElementById("descPrice").textContent = price;
  document.getElementById("descName").textContent = title;
  document.getElementById("descSText").textContent = sdes;
  document.getElementById("descText").textContent = description;

  // Size buttons logic
  const sizeContainer = document.getElementById("sizeButtons");
  sizeContainer.innerHTML = "";
  let selectedSize = null;

  sizesAvailable.forEach((size, index) => {
    const btn = document.createElement("button");
    btn.textContent = size;
    btn.style.padding = "10px 20px";
    btn.style.border = "1px solid #ccc";
    btn.style.borderRadius = "5px";
    btn.style.cursor = "pointer";

    if (index === 0) {
      btn.style.backgroundColor = "#333";
      btn.style.color = "#fff";
      selectedSize = size;
    }

    btn.onclick = () => {
      document.querySelectorAll("#sizeButtons button").forEach(b => {
        b.style.backgroundColor = "#f8f8f8";
        b.style.color = "#000";
      });
      btn.style.backgroundColor = "#333";
      btn.style.color = "#fff";
      selectedSize = size;
      document.getElementById("selectedSize").value = size;
    };

    sizeContainer.appendChild(btn);
  });

  let hiddenInput = document.getElementById("selectedSize");
  if (!hiddenInput) {
    hiddenInput = document.createElement("input");
    hiddenInput.type = "hidden";
    hiddenInput.id = "selectedSize";
    sizeContainer.appendChild(hiddenInput);
  }
  hiddenInput.value = selectedSize;

  // Show description page and hide others
  document.getElementById("descriptionPage").style.display = "block";
  document.getElementById("productList").style.display = "none";
  document.getElementById("shirtsPage").style.display = "none";
  document.getElementById("pantsPage").style.display = "none";
  document.getElementById("sliderSection").style.display = "none";
  document.getElementById("profilePage").style.display = "none";
    document.getElementById("tshirtsPage").style.display = "none";
    document.getElementById("cargosPage").style.display = "none";
}



function addToCart(image = null, price = null, title = null) {
  if (!image || !price) {
    image = document.getElementById('descImage').src;
    price = document.getElementById('descPrice').innerText;
    title = document.getElementById('descName').innerText;
  }

  const size = document.getElementById("selectedSize").value;
  if (!size) {
    alert("Please select a size.");
    return;
  }

  const parsedPrice = parseInt(price.replace('₹', ''));
  cart.push({ image, price: parsedPrice, title, size });

  alert('Item added to cart!');
}

document.addEventListener("DOMContentLoaded", function () {
  const filterControls = document.querySelectorAll(".filter-controls");

  filterControls.forEach(control => {
    const targetPageId = control.getAttribute("data-target");

    const sortSelect = control.querySelector(".sortPrice");
    const sizeSelect = control.querySelector(".filterSize");

    sortSelect.addEventListener("change", () => sortProductsByPrice(targetPageId));
    sizeSelect.addEventListener("change", () => filterProductsBySize(targetPageId));
  });
});

function sortProductsByPrice(pageId) {
  const grid = document.querySelector(`#${pageId} .product-grid`);
  const products = Array.from(grid.getElementsByClassName("product-card"));

  const sortOrder = document.querySelector(`[data-target="${pageId}"] .sortPrice`).value;

  if (sortOrder === "default") {
    products.sort((a, b) => 0);
  } else {
    products.sort((a, b) => {
      const priceA = parseInt(a.querySelector(".price").innerText.replace(/[^\d]/g, ""));
      const priceB = parseInt(b.querySelector(".price").innerText.replace(/[^\d]/g, ""));
      return sortOrder === "asc" ? priceA - priceB : priceB - priceA;
    });
  }

  grid.innerHTML = "";
  products.forEach(p => grid.appendChild(p));
}

function filterProductsBySize(pageId) {
  const selectedSize = document.querySelector(`[data-target="${pageId}"] .filterSize`).value;
  const cards = document.querySelectorAll(`#${pageId} .product-card`);

  cards.forEach(card => {
    const onclickAttr = card.querySelector("img").getAttribute("onclick");
    const hasSize = selectedSize === "all" || onclickAttr.includes(`'${selectedSize}'`);
    card.style.display = hasSize ? "block" : "none";
  });
}

function showCart() {
  document.getElementById("descriptionPage").style.display = "none";
  document.getElementById("productList").style.display = "none";
  document.getElementById("shirtsPage").style.display = "none";
  document.getElementById("pantsPage").style.display = "none";
  document.getElementById("sliderSection").style.display = "none";
  document.getElementById("cartPage").style.display = "block";
  document.getElementById("profilePage").style.display = "none";
  document.getElementById("tshirtsPage").style.display = "none";
  document.getElementById("cargosPage").style.display = "none";
  
  const cartItemsDiv = document.getElementById("cartItems");
  cartItemsDiv.innerHTML = '';

  let total = 0;
  
cart.forEach((item, index) => {
  total += item.price;
  const itemHTML = `
  <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ccc; padding-bottom: 10px;">
    <div style="display: flex; align-items: center;">
      <img src="${item.image}" style="max-width: 80px; border-radius: 6px; margin-right: 10px;" />
      <div>
        <p><strong>${item.title}</strong></p>
        <p><strong>Size:</strong>${item.size || 'N/A'}</p>
        <p><strong>Price:</strong> ₹${item.price}</p>
      </div>
    </div>
    <button onclick="removeFromCart(${index})" style="background-color: white; border: none; padding: 5px; border-radius: 5px;">
      <img src="https://img.icons8.com/?size=100&id=Qgjnp78cDeJi&format=png&color=000000" width="16">
    </button>
  </div>
`;
  cartItemsDiv.innerHTML += itemHTML;
});
 cartItemsDiv.innerHTML += `
    <h3>Total: ₹${total}</h3>
    <input type="text" id="checkoutName" placeholder="Your Name" onfocus="scrollIntoViewMobile(this)" style="padding:10px; width:100%; margin-top:10px;" />
    <input type="text" id="checkoutAddress" placeholder="Your Address" onfocus="scrollIntoViewMobile(this)" style="padding:10px; width:100%; margin-top:10px;" />
    <input type="text" id="checkoutPincode" placeholder="Pin Code" onfocus="scrollIntoViewMobile(this)" style="padding:10px; width:100%; margin-top:10px;" />
    <input type="text" id="checkoutMobileNumber" placeholder="Mobile Number" onfocus="scrollIntoViewMobile(this)" style="padding:10px; width:100%; margin-top:10px;" />
  `;
}

function scrollIntoViewMobile(el) {
  setTimeout(() => {
    const rect = el.getBoundingClientRect();
    const scrollTop = window.scrollY || window.pageYOffset;
    const elementTop = rect.top + scrollTop - 100; // adjust 100px above the element
    window.scrollTo({ top: elementTop, behavior: "smooth" });
  }, 300);
}

function removeFromCart(index) {
  cart.splice(index, 1); // Remove item at the given index
  showCart(); // Re-render the cart
}

function hideCart() {
  document.getElementById("cartPage").style.display = "none";
  document.getElementById("productList").style.display = "block";
  document.getElementById("sliderSection").style.display = "block";
}
function checkoutCart() { 
  const name = document.getElementById("checkoutName").value.trim();
  const address = document.getElementById("checkoutAddress").value.trim();
  const pincode = document.getElementById("checkoutPincode").value.trim();
  const mobilenumber  = document.getElementById("checkoutMobileNumber").value.trim();

  if (!name || !address || !pincode || !mobilenumber ) {
    alert("Please enter name and address to continue.");
    return;
  }

  const totalAmount = cart.reduce((sum, item) => sum + item.price, 0) * 100; // in paise

  if (totalAmount === 0) {
    alert("Cart is empty!");
    return;
  }

  const options = {
    key: 'rzp_live_0M0qHSpzByvZAr',
    amount: totalAmount,
    currency: "INR",
    name: "Monster Men's Collection",
    description: "Cart Checkout",
    image: "https://your-logo-url.com/logo.png",
    handler: function (response) {
      const paymentSuccessDiv = document.getElementById("paymentSuccessMessage");
      const user = auth.currentUser;

      if (user) {
        const orderData = {
          uid: user.uid,
          name: name,
          address: address,
          pincode: pincode,
          mobilenumber: mobilenumber,
          cart: cart,
          total: totalAmount / 100,
          paymentId: response.razorpay_payment_id,
          timestamp: firebase.firestore.FieldValue.serverTimestamp(),
          orderNumber: `ORD-${Date.now()}` // ✅ Add Order Number
        };

        db.collection("orders").add(orderData).then(() => {

          // Save simplified order entries

          // ✅ UI changes after successful order
          document.getElementById("descriptionPage").style.display = "none";
          document.getElementById("productList").style.display = "none";
          document.getElementById("shirtsPage").style.display = "none";
          document.getElementById("pantsPage").style.display = "none";
          document.getElementById("sliderSection").style.display = "none";
          document.getElementById("cartPage").style.display = "none";
          document.getElementById("profilePage").style.display = "none";
           document.getElementById("cargosPage").style.display = "none";

          // Show success page
          document.getElementById("paymentSuccessPage").style.display = "block";
          document.getElementById("successPaymentId").textContent = response.razorpay_payment_id;

          // Hide after 5 seconds and go back to products
          setTimeout(() => {
            document.getElementById("paymentSuccessPage").style.display = "none";
            document.getElementById("productList").style.display = "block";
            document.getElementById("sliderSection").style.display = "block";
          }, 5000);

          // Empty cart after order
          cart = [];

        }).catch(error => {
          console.error("Error saving order:", error);
          paymentSuccessDiv.style.display = "block";
          paymentSuccessDiv.style.color = "red";
          paymentSuccessDiv.innerHTML = "⚠️ Payment was successful but there was an error placing the order. Please contact support.";
        });
      }
    },
    prefill: {
      name: name
    },
    theme: {
      color: "#007bff"
    },
    webview_intent: true
  };

  const rzp = new Razorpay(options);
  rzp.open();
}

function checkoutCOD() {
  const name = document.getElementById("checkoutName").value.trim();
  const address = document.getElementById("checkoutAddress").value.trim();
   const pincode = document.getElementById("checkoutPincode").value.trim();
  const mobilenumber  = document.getElementById("checkoutMobileNumber").value.trim();

  if (!name || !address) {
    alert("Please enter name and address to continue.");
    return;
  }

  const totalAmount = cart.reduce((sum, item) => sum + item.price, 0);

  if (totalAmount === 0) {
    alert("Cart is empty!");
    return;
  }

  const user = auth.currentUser;
  if (!user) {
    alert("You must be logged in to place an order.");
    return;
  }

  const orderData = {
    uid: user.uid,
    name: name,
    address: address,
    pincode: pincode,
    mobilenumber: mobilenumber,
    cart: cart,
    total: totalAmount,
    paymentId: "COD",
    paymentMode: "Cash on Delivery",
    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
    orderNumber: `ORD-${Date.now()}`
  };

  db.collection("orders").add(orderData).then(() => {

      // ✅ UI changes after successful order
          document.getElementById("descriptionPage").style.display = "none";
          document.getElementById("productList").style.display = "none";
          document.getElementById("shirtsPage").style.display = "none";
          document.getElementById("pantsPage").style.display = "none";
          document.getElementById("sliderSection").style.display = "none";
          document.getElementById("cartPage").style.display = "none";
          document.getElementById("profilePage").style.display = "none";
            document.getElementById("tshirtsPage").style.display = "none";
             document.getElementById("cargosPage").style.display = "none";

          // Show success page
          document.getElementById("paymentSuccessPageCOD").style.display = "block";

          // Hide after 5 seconds and go back to products
          setTimeout(() => {
            document.getElementById("paymentSuccessPageCOD").style.display = "none";
            document.getElementById("productList").style.display = "block";
            document.getElementById("sliderSection").style.display = "block";
          }, 5000);
    cart = []; // Return to main page
  }).catch(error => {
    console.error("Error placing COD order:", error);
    alert("Error placing order. Please try again.");
  });
}

function confirmCOD() {
  document.getElementById("codConfirmationModal").style.display = "block";
}

function closeCODModal() {
  document.getElementById("codConfirmationModal").style.display = "none";
}

function proceedWithCOD() {
  closeCODModal();
  checkoutCOD(); // existing function
}


function showProfilePage() {
 const user = auth.currentUser;
 console.log(auth.currentUser?.email);
  console.log("Current user:", user?.email, user?.uid);
  if (user) {
    document.getElementById("profileEmail").textContent = user.email;

db.collection("users").doc(user.uid).get().then(doc => {
  let name = "Not available";

  if (doc.exists && doc.data().name) {
    name = doc.data().name;
  } else if (user.displayName) {
    name = user.displayName;
  }

  document.getElementById("profileName").textContent = name;
  loadUserProfileAndOrders();
});


    // Hide all pages, show profile
    document.getElementById("productList").style.display = "none";
    document.getElementById("sliderSection").style.display = "none";
    document.getElementById("cartPage").style.display = "none";
    document.getElementById("profilePage").style.display = "block";
    document.getElementById("shirtsPage").style.display = "none";
    document.getElementById("pantsPage").style.display = "none";
    document.getElementById("descriptionPage").style.display = "none";
      document.getElementById("tshirtsPage").style.display = "none";
       document.getElementById("cargosPage").style.display = "none";
  }
}
function logout() {
  auth.signOut().then(() => {
    location.reload(); // Reload to return to login screen
  });
}

function saveOrder(productName, uid) {
  db.collection("orders").add({
    uid, // ✅ match field used in query
    productName,
    status: "Pending",
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  }).then(docRef => {
    console.log("Simple order saved:", docRef.id);
  }).catch(error => {
    console.error("Error saving simple order:", error);
  });
}


     const firebaseConfig = {
      apiKey: "AIzaSyDzW8XuqrxM47W42HcIUXifa_X8tnfrLkY",
      authDomain: "monster-mens-collection.firebaseapp.com",
      projectId: "monster-mens-collection",
      storageBucket: "monster-mens-collection.appspot.com",
      messagingSenderId: "21161410221",
      appId: "1:21161410221:web:3f4c777d4b5c8db20a9024",
      measurementId: "G-5WFHV50M9Z"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

function loadUserProfileAndOrders() {
    auth.onAuthStateChanged(async (user) => {
      if (user) {
        // Set profile name and email
        document.getElementById('profileEmail').innerText = user.email;

        // Load orders
        const orderList = document.getElementById("orderList");
        orderList.innerHTML = "<li>Loading orders...</li>";

        try {
         const ordersSnapshot = await db.collection("orders")
             .where("uid", "==", user.uid)
              .orderBy("timestamp", "desc")
             .get();

          orderList.innerHTML = "";

          if (ordersSnapshot.empty) {
            orderList.innerHTML = "<li>No orders found.</li>";
          } else {
            orderList.innerHTML = "";

ordersSnapshot.forEach((doc, index) => {
  const order = doc.data();
  const orderDiv = document.createElement("div");
  orderDiv.style.border = "1px solid #ccc";
  orderDiv.style.borderRadius = "8px";
  orderDiv.style.padding = "10px";
  orderDiv.style.marginBottom = "15px";
  
  const paymentInfo = order.paymentMode ? order.paymentMode : "Online Paid";

  let itemsHTML = "";
  (order.cart || []).forEach(item => {
    itemsHTML += `
      <div style="margin-left: 10px; margin-top: 5px;">
      🔹 <strong>${item.title}</strong> - ₹${item.price}
      <div style="font-size: 12px; color: #555;">Size: ${item.size || "N/A"}</div>
    </div>
    `;
  });

  orderDiv.innerHTML = `
   <div style="font-size: 12px; color: gray;">Placed on: ${order.timestamp?.toDate().toLocaleString() || "Unknown"}</div>
    <div><strong>Order No:</strong> ${order.orderNumber || `#${index + 1}`}</div>
    <div><strong>Payment:</strong>${paymentInfo}</div>
    <div><strong>Payment ID:</strong> ${order.paymentId}</div>
    <div style="margin-top: 10px;">${itemsHTML}</div>
    <br><div><strong>Total:</strong> ₹${order.total}</div>
  `;

  orderList.appendChild(orderDiv);
});

          }
        } catch (error) {
         console.error("Error loading orders:", error);
         document.getElementById("orderList").innerHTML = `<li>Error loading orders: ${error.message}</li>`;
        }
      }
    });
  }
  
    const loginSection = document.getElementById("loginSection");
    const signupSection = document.getElementById("signupSection");
    const subscriptionSection = document.getElementById("subscriptionSection");
    const productsPage = document.getElementById("productsPage");
    const logoutBtn = document.getElementById("logoutBtn");
    const statusMessage = document.getElementById("statusMessage");
    const adminControls = document.getElementById("adminControls");

    const adminEmails = ["youremail@example.com"];

    async function checkSubscription(uid) {
      const doc = await db.collection("subscriptions").doc(uid).get();
      if (!doc.exists) return false;
      const data = doc.data();
      const now = new Date();
      const expiryDate = data.expiryDate?.toDate?.() || new Date(data.expiryDate);
      return expiryDate > now;
    }

    async function updatePageForUser(user) {
      await user.reload();
      if (!user.emailVerified) {
        alert("Please verify your email address before continuing.");
        auth.signOut();
        return;
      }
      const subscribed = await checkSubscription(user.uid);
      const container = document.getElementById("mainContainer");

if (subscribed) {
  subscriptionSection.style.display = "none";
  productsPage.style.display = "block";
  document.getElementById("title").textContent = "";
  container.classList.add("no-box");
  container.classList.remove("with-top-margin");
} else {
  subscriptionSection.style.display = "none";
  productsPage.style.display = "block";
  document.getElementById("title").textContent = "";
  container.classList.add("no-box");
  container.classList.remove("with-top-margin");
}
      loginSection.style.display = "none";
      signupSection.style.display = "none";
      adminControls.style.display = adminEmails.includes(user.email) ? "block" : "none";
    }

    async function saveSubscription(uid) {
      const expiry = new Date();
      expiry.setMonth(expiry.getMonth() + 1);
      await db.collection("subscriptions").doc(uid).set({
        expiryDate: expiry,
        createdAt: new Date()
      });
    }
    logoutBtn.addEventListener("click", () => {
      auth.signOut();
    });

    auth.onAuthStateChanged(async (user) => {
      if (user) {
        await updatePageForUser(user);
      } else {
        subscriptionSection.style.display = "none";
        productsPage.style.display = "none";
        loginSection.style.display = "flex";
        signupSection.style.display = "none";
        document.getElementById("title").textContent = "Login";
        document.getElementById("confirmationMessage").textContent = "";
        statusMessage.textContent = "";
        adminControls.style.display = "none";
      }
    });

    document.getElementById("emailLoginBtn").addEventListener("click", () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      auth.signInWithEmailAndPassword(email, password)
        .catch((error) => {
          statusMessage.textContent = "Incorrect email or password. Please try again.";
        });
    });

    document.getElementById("emailSignupBtn").addEventListener("click", () => {
  const name = document.getElementById("signupName").value;
  const email = document.getElementById("signupEmail").value;
  const password = document.getElementById("signupPassword").value;

  auth.createUserWithEmailAndPassword(email, password)
    .then((userCredential) => {
      const user = userCredential.user;

      // Save name and email to Firestore
      db.collection("users").doc(user.uid).set({
        name: name,
        email: email
      }).then(() => {
        console.log("User data saved to Firestore.");
      }).catch((error) => {
        console.error("Error saving user data to Firestore: ", error);
      });

      user.sendEmailVerification()
        .then(() => {
          statusMessage.textContent = `A verification email has been sent to ${email}. Please verify before logging in.`;
          signupSection.style.display = "none";
          loginSection.style.display = "flex";
          document.getElementById("title").textContent = "Login";
        })
        .catch((error) => {
          statusMessage.textContent = "Failed to send verification email: " + error.message;
        });

      auth.signOut(); // Log out after sending email
    })
    .catch((error) => {
      if (error.code === 'auth/email-already-in-use') {
        statusMessage.textContent = "This email is already in use. Please login instead.";
        toggleForm();
      } else {
        statusMessage.textContent = error.message;
      }
    });
});
    document.getElementById("forgotPasswordLink").addEventListener("click", () => {
      const email = document.getElementById("email").value;
      if (!email) {
        statusMessage.textContent = "Please enter your email address first.";
        return;
      }
      auth.sendPasswordResetEmail(email)
        .then(() => {
          statusMessage.textContent = `A password reset link has been sent to ${email}. Please check your inbox.`;
        })
        .catch((error) => {
          statusMessage.textContent = error.message;
        });
    });
    function updateBottomNavVisibility() {
  const loginVisible = document.getElementById("loginSection").style.display !== "none";
  const signupVisible = document.getElementById("signupSection").style.display !== "none";
  const subscriptionVisible = document.getElementById("subscriptionSection").style.display !== "none";

  const bottomNav = document.getElementById("bottomNav");

  if (loginVisible || signupVisible || subscriptionVisible) {
    bottomNav.style.display = "none";
  } else {
    bottomNav.style.display = "flex"; // or "block" if you're not using flex layout
  }
}
  const subscriptionForm = document.getElementById("subscriptionForm");

  subscriptionForm.addEventListener("submit", async function (e) {
    e.preventDefault(); // Prevent page reload

    const razorpayOptions = {
      key: "rzp_live_0M0qHSpzByvZAr", // Replace with your Razorpay test key
      amount: 200, // ₹2 in paise
      currency: "INR",
      name: "Monster Men's Collection",
      description: "Monthly Subscription",
      handler: function (response) {
        // You can store payment success in Firestore or show a message
        document.getElementById("confirmationMessage").innerText = "Payment successful! Thank you for subscribing.";
      },
      prefill: {
        email: firebase.auth().currentUser?.email || "",
      },
      theme: {
        color: "#007bff",
      },  
      webview_intent: true
    };

    const rzp = new Razorpay(razorpayOptions);
    rzp.open();
  });
    function toggleForm() {
      const isLoginVisible = loginSection.style.display !== "none";
      loginSection.style.display = isLoginVisible ? "none" : "flex";
      signupSection.style.display = isLoginVisible ? "flex" : "none";
      document.getElementById("title").textContent = isLoginVisible ? "Sign Up" : "Login";
      statusMessage.textContent = "";
    }
    
 window.addEventListener("popstate", function(event) {
  const descriptionPage = document.getElementById("descriptionPage");
  const tshirtsPage = document.getElementById("tshirtsPage");
  const shirtsPage = document.getElementById("shirtsPage");
  const pantsPage = document.getElementById("pantsPage");
  const cargosPage = document.getElementById("cargosPage");

  if (descriptionPage.style.display === "block") {
    descriptionPage.style.display = "none";

    if (event.state && event.state.page === "tshirtsPage") {
      tshirtsPage.style.display = "block";
    } else if (event.state && event.state.page === "shirtsPage") {
      shirtsPage.style.display = "block";
    } else if (event.state && event.state.page === "pantsPage") {
      pantsPage.style.display = "block";
    } else if (event.state && event.state.page === "cargosPage") {
      cargosPage.style.display = "block";
    }
  }
});



    // On initial load (login/signup page), add top margin
document.getElementById("mainContainer").classList.add("with-top-margin");
document.getElementById("backToSubscription").addEventListener("click", () => {
     firebase.auth().signOut();
  document.getElementById("mainContainer").classList.add("with-top-margin");
});

</script>

</body>

</html>
